<svg aria-roledescription='flowchart-v2' id='mermaid-1686558457891' preserveAspectRatio='xMidYMid meet' role='graphics-document document' style='max-width: 1153.78px; background-color: white;' viewBox='-8 -8 1153.78125 502' width='100%' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'><style>#mermaid-1686558457891{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1686558457891 .error-icon{fill:#552222;}#mermaid-1686558457891 .error-text{fill:#552222;stroke:#552222;}#mermaid-1686558457891 .edge-thickness-normal{stroke-width:2px;}#mermaid-1686558457891 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1686558457891 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1686558457891 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1686558457891 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1686558457891 .marker{fill:#333333;stroke:#333333;}#mermaid-1686558457891 .marker.cross{stroke:#333333;}#mermaid-1686558457891 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1686558457891 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-1686558457891 .cluster-label text{fill:#333;}#mermaid-1686558457891 .cluster-label span{color:#333;}#mermaid-1686558457891 .label text,#mermaid-1686558457891 span{fill:#333;color:#333;}#mermaid-1686558457891 .node rect,#mermaid-1686558457891 .node circle,#mermaid-1686558457891 .node ellipse,#mermaid-1686558457891 .node polygon,#mermaid-1686558457891 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1686558457891 .node .label{text-align:center;}#mermaid-1686558457891 .node.clickable{cursor:pointer;}#mermaid-1686558457891 .arrowheadPath{fill:#333333;}#mermaid-1686558457891 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1686558457891 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1686558457891 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1686558457891 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1686558457891 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1686558457891 .cluster text{fill:#333;}#mermaid-1686558457891 .cluster span{color:#333;}#mermaid-1686558457891 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1686558457891 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-1686558457891 .label foreignObject{font-size:85%;overflow:visible;}#mermaid-1686558457891 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker class='marker flowchart' id='flowchart-pointEnd' markerHeight='12' markerUnits='userSpaceOnUse' markerWidth='12' orient='auto' refX='10' refY='5' viewBox='0 0 12 20'><path class='arrowMarkerPath' d='M 0 0 L 10 5 L 0 10 z' style='stroke-width: 1; stroke-dasharray: 1, 0;'/></marker><marker class='marker flowchart' id='flowchart-pointStart' markerHeight='12' markerUnits='userSpaceOnUse' markerWidth='12' orient='auto' refX='0' refY='5' viewBox='0 0 10 10'><path class='arrowMarkerPath' d='M 0 5 L 10 10 L 10 0 z' style='stroke-width: 1; stroke-dasharray: 1, 0;'/></marker><marker class='marker flowchart' id='flowchart-circleEnd' markerHeight='11' markerUnits='userSpaceOnUse' markerWidth='11' orient='auto' refX='11' refY='5' viewBox='0 0 10 10'><circle class='arrowMarkerPath' cx='5' cy='5' r='5' style='stroke-width: 1; stroke-dasharray: 1, 0;'/></marker><marker class='marker flowchart' id='flowchart-circleStart' markerHeight='11' markerUnits='userSpaceOnUse' markerWidth='11' orient='auto' refX='-1' refY='5' viewBox='0 0 10 10'><circle class='arrowMarkerPath' cx='5' cy='5' r='5' style='stroke-width: 1; stroke-dasharray: 1, 0;'/></marker><marker class='marker cross flowchart' id='flowchart-crossEnd' markerHeight='11' markerUnits='userSpaceOnUse' markerWidth='11' orient='auto' refX='12' refY='5.2' viewBox='0 0 11 11'><path class='arrowMarkerPath' d='M 1,1 l 9,9 M 10,1 l -9,9' style='stroke-width: 2; stroke-dasharray: 1, 0;'/></marker><marker class='marker cross flowchart' id='flowchart-crossStart' markerHeight='11' markerUnits='userSpaceOnUse' markerWidth='11' orient='auto' refX='-1' refY='5.2' viewBox='0 0 11 11'><path class='arrowMarkerPath' d='M 1,1 l 9,9 M 10,1 l -9,9' style='stroke-width: 2; stroke-dasharray: 1, 0;'/></marker><g class='root'><g class='clusters'/><g class='edgePaths'><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-process_block LE-process_new_block' d='M105.34375,243L109.51041666666667,243C113.67708333333333,243,122.01041666666667,243,130.34375,243C138.67708333333334,243,147.01041666666666,243,151.17708333333334,243L155.34375,243' id='L-process_block-process_new_block-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-process_new_block LE-sub_check_block' d='M287.671875,243L291.8385416666667,243C296.0052083333333,243,304.3385416666667,243,312.671875,243C321.0052083333333,243,329.3385416666667,243,333.5052083333333,243L337.671875,243' id='L-process_new_block-sub_check_block-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-sub_check_block LE-sub_accept_block' d='M546.609375,243L550.7760416666666,243C554.9427083333334,243,563.2760416666666,243,571.609375,243C579.9427083333334,243,588.2760416666666,243,592.4427083333334,243L596.609375,243' id='L-sub_check_block-sub_accept_block-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-sub_accept_block LE-activate_chain' d='M856.171875,243L860.3385416666666,243C864.5052083333334,243,872.8385416666666,243,881.171875,243C889.5052083333334,243,897.8385416666666,243,902.0052083333334,243L906.171875,243' id='L-sub_accept_block-activate_chain-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/></g><g class='edgeLabels'><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g></g><g class='nodes'><g class='root' transform='translate(898.671875, 113.5)'><g class='clusters'><g class='cluster default' id='activate_chain'><rect height='243' rx='0' ry='0' style='' width='231.109375' x='8' y='8'/><g class='cluster-label' transform='translate(53.875, 8)'><foreignObject height='19' width='139.359375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>ActivateBestChain()</span></div></foreignObject></g></g></g><g class='edgePaths'><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-activate_best_chain_step LE-connect_tip' d='M123.5546875,64L123.5546875,68.16666666666667C123.5546875,72.33333333333333,123.5546875,80.66666666666667,123.5546875,89C123.5546875,97.33333333333333,123.5546875,105.66666666666667,123.5546875,109.83333333333333L123.5546875,114' id='L-activate_best_chain_step-connect_tip-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-connect_tip LE-connect_block' d='M123.5546875,145L123.5546875,149.16666666666666C123.5546875,153.33333333333334,123.5546875,161.66666666666666,123.5546875,170C123.5546875,178.33333333333334,123.5546875,186.66666666666666,123.5546875,190.83333333333334L123.5546875,195' id='L-connect_tip-connect_block-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/></g><g class='edgeLabels'><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g></g><g class='nodes'><g class='node default default' id='flowchart-connect_tip-106' transform='translate(123.5546875, 129.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='92.703125' x='-46.3515625' y='-15.5'/><g class='label' style='' transform='translate(-38.8515625, -8)'><foreignObject height='16' width='77.703125'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>ConnectTip()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-activate_best_chain_step-105' transform='translate(123.5546875, 48.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='161.109375' x='-80.5546875' y='-15.5'/><g class='label' style='' transform='translate(-73.0546875, -8)'><foreignObject height='16' width='146.109375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>ActivateBestChainStep()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-connect_block-107' transform='translate(123.5546875, 210.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='106.546875' x='-53.2734375' y='-15.5'/><g class='label' style='' transform='translate(-45.7734375, -8)'><foreignObject height='16' width='91.546875'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>ConnectBlock()</span></div></foreignObject></g></g></g></g><g class='root' transform='translate(589.109375, -8)'><g class='clusters'><g class='cluster default' id='sub_accept_block'><rect height='486' rx='0' ry='0' style='' width='259.5625' x='8' y='8'/><g class='cluster-label' transform='translate(88.59375, 8)'><foreignObject height='19' width='98.375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>AcceptBlock()</span></div></foreignObject></g></g></g><g class='edgePaths'><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-accept_block_header LE-check_block_index' d='M137.78125,64L137.78125,68.16666666666667C137.78125,72.33333333333333,137.78125,80.66666666666667,137.78125,89C137.78125,97.33333333333333,137.78125,105.66666666666667,137.78125,109.83333333333333L137.78125,114' id='L-accept_block_header-check_block_index-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-check_block_index LE-check_block' d='M137.78125,145L137.78125,149.16666666666666C137.78125,153.33333333333334,137.78125,161.66666666666666,137.78125,170C137.78125,178.33333333333334,137.78125,186.66666666666666,137.78125,190.83333333333334L137.78125,195' id='L-check_block_index-check_block-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-check_block LE-contextual_check_block' d='M137.78125,226L137.78125,230.16666666666666C137.78125,234.33333333333334,137.78125,242.66666666666666,137.78125,251C137.78125,259.3333333333333,137.78125,267.6666666666667,137.78125,271.8333333333333L137.78125,276' id='L-check_block-contextual_check_block-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-contextual_check_block LE-save_block_disk' d='M137.78125,307L137.78125,311.1666666666667C137.78125,315.3333333333333,137.78125,323.6666666666667,137.78125,332C137.78125,340.3333333333333,137.78125,348.6666666666667,137.78125,352.8333333333333L137.78125,357' id='L-contextual_check_block-save_block_disk-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-save_block_disk LE-recv_block_tx' d='M137.78125,388L137.78125,392.1666666666667C137.78125,396.3333333333333,137.78125,404.6666666666667,137.78125,413C137.78125,421.3333333333333,137.78125,429.6666666666667,137.78125,433.8333333333333L137.78125,438' id='L-save_block_disk-recv_block_tx-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/></g><g class='edgeLabels'><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g></g><g class='nodes'><g class='node default default' id='flowchart-check_block_index-90' transform='translate(137.78125, 129.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='127.546875' x='-63.7734375' y='-15.5'/><g class='label' style='' transform='translate(-56.2734375, -8)'><foreignObject height='16' width='112.546875'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>CheckBlockIndex()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-accept_block_header-89' transform='translate(137.78125, 48.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='142.359375' x='-71.1796875' y='-15.5'/><g class='label' style='' transform='translate(-63.6796875, -8)'><foreignObject height='16' width='127.359375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>AcceptBlockHeader()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-check_block-91' transform='translate(137.78125, 210.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='95.15625' x='-47.578125' y='-15.5'/><g class='label' style='' transform='translate(-40.078125, -8)'><foreignObject height='16' width='80.15625'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>CheckBlock()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-contextual_check_block-92' transform='translate(137.78125, 291.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='158.265625' x='-79.1328125' y='-15.5'/><g class='label' style='' transform='translate(-71.6328125, -8)'><foreignObject height='16' width='143.265625'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>ContextualCheckBlock()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-save_block_disk-93' transform='translate(137.78125, 372.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='129.609375' x='-64.8046875' y='-15.5'/><g class='label' style='' transform='translate(-57.3046875, -8)'><foreignObject height='16' width='114.609375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>SaveBlockToDisk()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-recv_block_tx-94' transform='translate(137.78125, 453.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='189.5625' x='-94.78125' y='-15.5'/><g class='label' style='' transform='translate(-87.28125, -8)'><foreignObject height='16' width='174.5625'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>ReceivedBlockTransactions()</span></div></foreignObject></g></g></g></g><g class='root' transform='translate(330.171875, 113.5)'><g class='clusters'><g class='cluster default' id='sub_check_block'><rect height='243' rx='0' ry='0' style='' width='208.9375' x='8' y='8'/><g class='cluster-label' transform='translate(65.296875, 8)'><foreignObject height='19' width='94.34375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>CheckBlock()</span></div></foreignObject></g></g></g><g class='edgePaths'><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-check_block_header LE-block_merkle' d='M112.46875,64L112.46875,68.16666666666667C112.46875,72.33333333333333,112.46875,80.66666666666667,112.46875,89C112.46875,97.33333333333333,112.46875,105.66666666666667,112.46875,109.83333333333333L112.46875,114' id='L-check_block_header-block_merkle-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/><path class='edge-thickness-normal edge-pattern-solid flowchart-link LS-block_merkle LE-check_transaction' d='M112.46875,145L112.46875,149.16666666666666C112.46875,153.33333333333334,112.46875,161.66666666666666,112.46875,170C112.46875,178.33333333333334,112.46875,186.66666666666666,112.46875,190.83333333333334L112.46875,195' id='L-block_merkle-check_transaction-0' marker-end='url(#flowchart-pointEnd)' style='fill:none;'/></g><g class='edgeLabels'><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g><g class='edgeLabel'><g class='label' transform='translate(0, 0)'><foreignObject height='0' width='0'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='edgeLabel'/></div></foreignObject></g></g></g><g class='nodes'><g class='node default default' id='flowchart-block_merkle-83' transform='translate(112.46875, 129.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='125.484375' x='-62.7421875' y='-15.5'/><g class='label' style='' transform='translate(-55.2421875, -8)'><foreignObject height='16' width='110.484375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>BlockMerkleRoot()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-check_block_header-82' transform='translate(112.46875, 48.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='138.9375' x='-69.46875' y='-15.5'/><g class='label' style='' transform='translate(-61.96875, -8)'><foreignObject height='16' width='123.9375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>CheckBlockHeader()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-check_transaction-84' transform='translate(112.46875, 210.5)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='132.21875' x='-66.109375' y='-15.5'/><g class='label' style='' transform='translate(-58.609375, -8)'><foreignObject height='16' width='117.21875'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>CheckTransaction()</span></div></foreignObject></g></g></g></g><g class='node default default' id='flowchart-process_block-80' transform='translate(52.671875, 243)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='105.34375' x='-52.671875' y='-15.5'/><g class='label' style='' transform='translate(-45.171875, -8)'><foreignObject height='16' width='90.34375'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>ProcessBlock()</span></div></foreignObject></g></g><g class='node default default' id='flowchart-process_new_block-81' transform='translate(221.5078125, 243)'><rect class='basic label-container' height='31' rx='0' ry='0' style='' width='132.328125' x='-66.1640625' y='-15.5'/><g class='label' style='' transform='translate(-58.6640625, -8)'><foreignObject height='16' width='117.328125'><div style='display: inline-block; white-space: nowrap;' xmlns='http://www.w3.org/1999/xhtml'><span class='nodeLabel'>ProcessNewBlock()</span></div></foreignObject></g></g></g></g></g></svg>